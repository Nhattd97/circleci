{
  "name": "pulse",
  "version": "9.3.0",
  "repository": "https://github.com/QAS-Labs/pulse.git",
  "author": "vubui <vubui@qasymphony.com>",
  "license": "Apache-2.0",
  "scripts": {
    "prepare": "cd sdk && npm i",
    "postinstall": "cd runtime && npm i",
    "ins": "npm i && (cd ui && npm i)",
    "clean": "run-p clean:**",
    "clean:dist": "rimraf dist dist.zip dist.tar.gz",
    "clean:dev": "rimraf package-lock.json yarn.lock node_modules runtime/package-lock.json runtime/yarn.lock runtime/node_modules coverage test-report.xml tslint-report.json",
    "clean:sdk": "cd sdk && npm run clean",
    "version": "echo $npm_package_version",
    "build": "npm-run-all clean:dist -p build:**",
    "build:api": "npm-run-all build-api:build build-api:prop",
    "build-api:build": "tsc && copyfiles -u 1 -e \"**/*.ts\" -e \"**/node_modules/**/*\" -e \"**/*lock*\" \"src/**/*\" dist && copyfiles -e \"**/node_modules/**/*\" -e \"**/*lock*\" package.json process.yml \"runtime/**/*\" dist",
    "build:sdk": "cd sdk && npm run build && copyfiles \"dist/**/*.*\" package.json ../dist/sdk",
    "build:ui": "cd ui && npm run build && copyfiles -u 1 \"dist/**/*\" ../dist/public",
    "build-api:prop": "cd dist && git rev-parse --verify HEAD> build.properties && git rev-parse --abbrev-ref HEAD>> build.properties && echo %date% %time% $(date)>> build.properties",
    "dist": "node -r ts-node/register dist -- dist",
    "dist:ins": "cd dist && npm install --production",
    "dist:zip": "node -r ts-node/register dist -- distZip",
    "start": "pm2 start process.yml --no-daemon --name qtest-pulse",
    "dist:zipPackage": "cd dist && bestzip ../dist.zip .",
    "dev": "nodemon src/index.ts",
    "dev:ui": "cd ui && npm run dev",
    "dev:all": "run-p dev dev:ui",
    "dev:executor": "nodemon executor/index.ts",
    "db:update": "knex migrate:latest",
    "db:rollback": "knex migrate:rollback",
    "lint": "tslint -p . -c tslint.json",
    "test": "run-s \"db:update -- --env test\" test:once",
    "test:once": "jest --forceExit --detectOpenHandles",
    "test:watch": "npm run test:once -- --watchAll",
    "sonar": "run-p sonar:**",
    "sonar:api": "run-p \"lint -- -t json -o tslint-report.json\" \"test\"",
    "sonar:ui": "cd ui && npm run sonar",
    "swagger": "cross-env swagger_swagger_fileName=src/api/swagger/swagger.yaml swagger project edit"
  },
  "dependencies": {
    "apollo-server-express": "2.3.1",
    "app-root-path": "2.1.0",
    "async-exit-hook": "2.0.1",
    "aws-sdk": "2.382.0",
    "body-parser": "1.18.3",
    "compression": "1.7.3",
    "core-js": "3.0.0-beta.11",
    "cors": "2.8.5",
    "dotenv": "6.2.0",
    "express": "4.16.4",
    "fs-extra": "7.0.1",
    "graphql": "14.0.2",
    "graphql-scalar-objectid": "0.1.1",
    "graphql-subscriptions": "1.0.0",
    "jszip": "3.1.5",
    "klaw": "3.0.0",
    "knex": "0.15.2",
    "lodash": "4.17.11",
    "memory-cache": "^0.2.0",
    "objection": "1.4.0",
    "passport": "0.4.0",
    "passport-http-bearer": "1.0.1",
    "pg": "7.7.1",
    "pluralize": "7.0.0",
    "pm2": "3.2.4",
    "portable-fetch": "3.0.0",
    "sigsci-module-nodejs": "https://dl.signalsciences.net/sigsci-module-nodejs/sigsci-module-nodejs_latest.tgz",
    "source-map-support": "0.5.9",
    "spdy": "4.0.0",
    "subscriptions-transport-ws": "0.9.15",
    "swagger-express-mw": "0.7.0",
    "tmp": "0.0.33",
    "tslib": "1.9.3",
    "winston": "3.1.0",
    "zone.js": "0.8.26"
  },
  "devDependencies": {
    "@playlyfe/gql": "2.6.1",
    "@types/app-root-path": "1.2.4",
    "@types/body-parser": "1.17.0",
    "@types/commander": "2.12.2",
    "@types/compression": "0.0.36",
    "@types/cors": "2.8.4",
    "@types/dotenv": "6.1.0",
    "@types/errorhandler": "0.0.32",
    "@types/faker": "4.1.4",
    "@types/fs-extra": "5.0.4",
    "@types/graphql": "14.0.4",
    "@types/jest": "23.3.11",
    "@types/jszip": "3.1.4",
    "@types/klaw": "2.1.1",
    "@types/knex": "0.15.1",
    "@types/lodash": "4.14.119",
    "@types/memory-cache": "^0.2.0",
    "@types/node": "10.12.18",
    "@types/passport": "1.0.0",
    "@types/passport-http-bearer": "1.0.33",
    "@types/pg": "7.4.11",
    "@types/pluralize": "0.0.29",
    "@types/swagger-express-mw": "0.7.7",
    "@types/tar": "4.0.0",
    "@types/tmp": "0.0.33",
    "bestzip": "^2.1.2",
    "commander": "2.19.0",
    "copyfiles": "2.1.0",
    "cross-env": "5.2.0",
    "errorhandler": "1.5.0",
    "faker": "4.1.0",
    "jest": "23.6.0",
    "jest-sonar-reporter": "2.0.0",
    "nodemon": "1.18.9",
    "npm-run-all": "4.1.5",
    "rimraf": "2.6.3",
    "tar": "4.4.8",
    "ts-jest": "23.10.5",
    "ts-node": "7.0.1",
    "tslint": "5.12.0",
    "typescript": "3.2.2"
  },
  "jest": {
    "transform": {
      "^.+\\.tsx?$": "ts-jest"
    },
    "collectCoverage": true,
    "collectCoverageFrom": [
      "**/src/api/services/*.{ts}",
      "**/src/executor/local.ts",
      "!**/src/api/services/qtest.ts",
      "!**/*.d.ts",
      "!**/*.spec.ts",
      "!**/test.ts",
      "!**/node_modules/**",
      "!**/vendor/**"
    ],
    "testEnvironment": "node",
    "setupTestFrameworkScriptFile": "<rootDir>/src/test.ts",
    "testRegex": "(/__tests__/.*|\\.(test|spec))\\.(tsx?|jsx?)$",
    "testPathIgnorePatterns": [
      "/node_modules/",
      "/ui/"
    ],
    "moduleFileExtensions": [
      "ts",
      "tsx",
      "js",
      "json",
      "jsx"
    ],
    "globals": {
      "ts-jest": {
        "diagnostics": false
      }
    },
    "testResultsProcessor": "jest-sonar-reporter"
  }
}
